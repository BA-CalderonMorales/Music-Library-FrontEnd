(this["webpackJsonpmusic-library"]=this["webpackJsonpmusic-library"]||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(14),c=a.n(r),l=a(6),o=a.n(l),i=a(10),d=a(3),u=a(9),h=a(5),b=a(4),j=(a(33),a(7)),m=(a(34),a(8)),p=a(15),g=a.n(p),f=a(0);g.a.setAppElement("#root");var x=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(m.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.props.song.id;n.setState({id:t});var a={id:n.state.id,title:n.state.title,artist:n.state.artist,album:n.state.album,genre:n.state.genre,release_date:n.state.release_date};n.props.updateSong(a),n.props.updateModalStatus(n.state.modal)},n.isModalOpen=function(e){return n.setState({modal:e}),n.state.modal},n.state={id:"",title:"",artist:"",album:"",genre:"",release_date:"",modal:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(g.a,{isOpen:this.props.modalStatus,onRequestClose:function(){return e.isModalOpen(!1)},style:{overlay:{backgroundColor:"grey"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"2rem"}},children:[Object(f.jsx)("h1",{children:"Make Changes Here"}),Object(f.jsxs)("form",{className:"row g-3 align-items-center p-2",onSubmit:this.handleSubmit,children:[Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Song"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"title",onChange:this.handleChange,placeholder:this.props.song.title,value:this.state.title}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Artist"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"artist",onChange:this.handleChange,placeholder:this.props.song.artist,value:this.state.artist}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Genre"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"genre",onChange:this.handleChange,placeholder:this.props.song.genre,value:this.state.genre}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Album"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"album",onChange:this.handleChange,placeholder:this.props.song.album,value:this.state.album}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Release Date"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"date",name:"release_date",onChange:this.handleChange,placeholder:this.props.song.release_date,value:this.state.release_date}),Object(f.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){return e.isModalOpen(!1)},children:"Update"}),Object(f.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.isModalOpen(!1)},children:"Close"})]})]})})})}}]),a}(n.Component),O=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).setModalIsOpen=function(e){n.setState({modalStatus:!0,currentSong:e})},n.updateModalStatus=function(e){n.setState({modalStatus:e})},n.state={currentSong:{id:"",title:"",artist:"",genre:"",album:"",release_date:"",modalStatus:!1}},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsxs)("div",{className:"col-md-6 table-responsive",children:[Object(f.jsxs)("table",{className:"table table-striped table-dark",children:[Object(f.jsx)("thead",{className:"align-middle",children:Object(f.jsxs)("tr",{className:"h6",children:[Object(f.jsx)("th",{className:"p-3",children:"Song Title"}),Object(f.jsx)("th",{className:"p-3",children:"Artist"}),Object(f.jsx)("th",{className:"p-3",children:"Genre"}),Object(f.jsx)("th",{className:"p-3",children:"Album Title"}),Object(f.jsx)("th",{className:"p-3",children:"Release Date"}),Object(f.jsx)("th",{className:"p-3"}),Object(f.jsx)("th",{className:"p-3"})]})}),Object(f.jsx)("tbody",{children:this.props.songs.map((function(t){return Object(f.jsxs)("tr",{className:"lead",children:[Object(f.jsx)("td",{children:t.title}),Object(f.jsx)("td",{children:t.artist}),Object(f.jsx)("td",{children:t.genre}),Object(f.jsx)("td",{children:t.album}),Object(f.jsx)("td",{children:t.release_date}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.setModalIsOpen(t)},children:"Edit"})}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return e.props.deleteSong(t.id)},className:"btn btn-danger",children:"Delete"})})]},t.id)}))})]}),Object(f.jsx)(x,{modalStatus:this.state.modalStatus,song:this.state.currentSong,updateSong:this.props.updateSong,updateModalStatus:this.updateModalStatus})]})})}}]),a}(n.Component),v=a(11),S=a.n(v),N=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(m.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.addNewSong(n.state)},n.state={title:"",artist:"",genre:"",album:"",release_date:""},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsx)("div",{className:"col-md-6 bg-light",children:Object(f.jsxs)("form",{className:"row g-3 align-items-center p-2 bg-light",onSubmit:this.handleSubmit,children:[Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Song Title"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"title",placeholder:"Yellow Submarine",onChange:this.handleChange,value:this.state.title}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Artist"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"artist",placeholder:"The Beatles",onChange:this.handleChange,value:this.state.artist}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Genre"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"genre",placeholder:"Psychadelic Rock",onChange:this.handleChange,value:this.state.genre}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Album Title"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"text",name:"album",placeholder:"Yellow Submarine",onChange:this.handleChange,value:this.state.album}),Object(f.jsx)("label",{className:"lead d-flex justify-content-center p-2",children:"Song Release Date"}),Object(f.jsx)("input",{className:"bg-light form-control form-control-lg",type:"date",name:"release_date",onChange:this.handleChange,value:this.state.release_date}),Object(f.jsx)("button",{className:"lead btn btn-primary btn-lg",submit:"submit",children:"Add Song"})]})})})}}]),a}(n.Component),y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(m.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.filterSong(n.state.searchCriteria)},n.state={searchCriteria:""},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("h1",{className:"display-5 p-2",children:"Music Library"})}),Object(f.jsx)("div",{className:"col-md-4",children:Object(f.jsxs)("form",{onSubmit:this.handleSubmit,class:"d-flex p-3",children:[Object(f.jsx)("input",{name:"searchCriteria",onChange:this.handleChange,value:this.state.searchCriteria,className:"form-control form-control-lg me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(f.jsx)("button",{class:"btn btn-outline-success",type:"submit",children:"Search"})]})}),Object(f.jsx)("div",{className:"col"})]})}}]),a}(n.Component),C=function(){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h1",{className:"display-1 text-center",children:"Music Archive"})}),Object(f.jsx)("div",{className:"row row-cols-1 row-cols-xs-2 row-cols-sm-2 row-cols-md-2 row-cols-lg-2 p-3",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("p",{className:"lead text-center",children:[" Feel free to browse our catalog. The search bar at the top of your screen is meant ",Object(f.jsx)("br",{}),"assist you in looking for your favorite song. If for any reason you can't find the ",Object(f.jsx)("br",{}),"song you're searching for, feel free to add it to our archive."]})})})]})},w=function(){return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("span",{className:"lead text-center",children:" Copyright \xa9 2021 Carter & Brandon : Pair Programming Project "})})})},k=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.makeGetRequest()},n.displayTable=function(e){console.log(n.state.allSongs);var t=n.state.allSongs;""===n.currentCriteria?n.setState({currentSongs:t}):n.setState({currentSongs:e})},n.makeGetRequest=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object(u.a)(n)),e.prev=1,e.next=4,S.a.get("http://127.0.0.1:8000/music/");case 4:t=e.sent,a=t.data,n.setState({allSongs:a}),n.displayTable(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error in API Call");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.filterSong=function(e){var t=n.state.allSongs;n.currentCriteria=e.toLowerCase();var a;a=t.filter((function(e){return e.title.toLowerCase().includes(n.currentCriteria)||e.genre.toLowerCase().includes(n.currentCriteria)||e.artist.toLowerCase().includes(n.currentCriteria)||e.album.toLowerCase().includes(n.currentCriteria)||e.release_date.includes(n.currentCriteria)})),n.displayTable(a),console.log(Object(u.a)(n))},n.deleteSong=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,S.a.delete("http://127.0.0.1:8000/music/"+t);case 4:a=e.sent,console.log(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),console.log("error in Delete API Call");case 12:console.log(Object(u.a)(n)),n.makeGetRequest();case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n.addNewSong=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post("http://127.0.0.1:8000/music/",t);case 3:a=e.sent,console.log(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:n.makeGetRequest();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.updateSong=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.put("http://127.0.0.1:8000/music/"+t.id,{title:"".concat(t.title),artist:"".concat(t.artist),genre:"".concat(t.genre),album:"".concat(t.album),release_date:"".concat(t.release_date)});case 3:a=e.sent,console.log(a.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),alert("Sorry for the inconvenience. Try submitting one again. ".concat(e.t0));case 11:n.makeGetRequest();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.render=function(){return Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsx)("div",{className:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-1 p-3",children:Object(f.jsx)(y,{filterSong:n.filterSong})}),Object(f.jsx)("div",{className:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-1 p-3",children:Object(f.jsx)(C,{})}),Object(f.jsxs)("div",{className:"row justify-content-md-center p-3",children:[Object(f.jsx)(O,{songs:n.state.currentSongs,deleteSong:n.deleteSong,updateSong:n.updateSong}),Object(f.jsx)(N,{addNewSong:n.addNewSong})]}),Object(f.jsx)("div",{className:"row justify-content-md-center p-2",children:Object(f.jsx)(w,{})})]})},n.state={allSongs:[],currentSongs:[]},n.currentCriteria="",n}return a}(n.Component);a(65);c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.10e1f948.chunk.js.map